{"ast":null,"code":"var _s = $RefreshSig$();\n\n// https://github.com/pacocoursey/paco/blob/master/lib/theme.ts\nimport { useCallback, useEffect } from \"react\";\nimport useSWR from \"swr\";\nexport var themeStorageKey = \"theme\";\nvar isServer = false;\nexport var getTheme = function getTheme() {\n  if (isServer) return \"dark\";\n  return localStorage.getItem(themeStorageKey) || \"dark\";\n};\nexport var setLightMode = function setLightMode() {\n  try {\n    localStorage.setItem(themeStorageKey, \"light\");\n    document.documentElement.classList.add(\"light\");\n  } catch (err) {\n    console.error(err);\n  }\n};\nexport var setDarkMode = function setDarkMode() {\n  try {\n    localStorage.setItem(themeStorageKey, \"dark\");\n    document.documentElement.classList.remove(\"light\");\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nvar disableAnimation = function disableAnimation() {\n  var css = document.createElement(\"style\");\n  css.type = \"text/css\";\n  css.appendChild(document.createTextNode(\"* {\\n        -webkit-transition: none !important;\\n        -moz-transition: none !important;\\n        -o-transition: none !important;\\n        -ms-transition: none !important;\\n        transition: none !important;\\n      }\"));\n  document.head.appendChild(css);\n  return function () {\n    // Force restyle\n    ;\n\n    (function () {\n      return window.getComputedStyle(css).opacity;\n    })();\n\n    document.head.removeChild(css);\n  };\n};\n\nvar useTheme = function useTheme() {\n  _s();\n\n  var _useSWR = useSWR(themeStorageKey, getTheme, {\n    initialData: getTheme()\n  }),\n      theme = _useSWR.data,\n      mutate = _useSWR.mutate;\n\n  var setTheme = useCallback(function (newTheme) {\n    mutate(newTheme, false);\n  }, [mutate]);\n  useEffect(function () {\n    var enable = disableAnimation();\n\n    if (theme === \"dark\") {\n      setDarkMode();\n    } else {\n      setLightMode();\n    }\n\n    enable();\n  }, [theme]);\n  return {\n    theme: theme,\n    setTheme: setTheme,\n    toggleTheme: function toggleTheme() {\n      return setTheme(!theme || theme === \"dark\" ? \"light\" : \"dark\");\n    }\n  };\n};\n\n_s(useTheme, \"Sbpf7QHSjh2xU8/l9RExRzQkBEU=\", false, function () {\n  return [useSWR];\n});\n\nexport default useTheme;","map":{"version":3,"sources":["/Users/nikivi/src/orgs/learn-anything/learn-anything/app/src/lib/theme.ts"],"names":["useCallback","useEffect","useSWR","themeStorageKey","isServer","getTheme","localStorage","getItem","setLightMode","setItem","document","documentElement","classList","add","err","console","error","setDarkMode","remove","disableAnimation","css","createElement","type","appendChild","createTextNode","head","window","getComputedStyle","opacity","removeChild","useTheme","initialData","theme","data","mutate","setTheme","newTheme","enable","toggleTheme"],"mappings":";;AAAA;AACA,SAASA,WAAT,EAAsBC,SAAtB,QAAuC,OAAvC;AACA,OAAOC,MAAP,MAAmB,KAAnB;AAIA,OAAO,IAAMC,eAAe,GAAG,OAAxB;AAEP,IAAMC,QAAQ,QAAd;AACA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAa;AACnC,MAAID,QAAJ,EAAc,OAAO,MAAP;AACd,SAAQE,YAAY,CAACC,OAAb,CAAqBJ,eAArB,CAAD,IAAoD,MAA3D;AACD,CAHM;AAKP,OAAO,IAAMK,YAAY,GAAG,SAAfA,YAAe,GAAM;AAChC,MAAI;AACFF,IAAAA,YAAY,CAACG,OAAb,CAAqBN,eAArB,EAAsC,OAAtC;AACAO,IAAAA,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAmCC,GAAnC,CAAuC,OAAvC;AACD,GAHD,CAGE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,CAPM;AASP,OAAO,IAAMG,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC/B,MAAI;AACFX,IAAAA,YAAY,CAACG,OAAb,CAAqBN,eAArB,EAAsC,MAAtC;AACAO,IAAAA,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAmCM,MAAnC,CAA0C,OAA1C;AACD,GAHD,CAGE,OAAOJ,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,CAPM;;AASP,IAAMK,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,MAAMC,GAAG,GAAGV,QAAQ,CAACW,aAAT,CAAuB,OAAvB,CAAZ;AACAD,EAAAA,GAAG,CAACE,IAAJ,GAAW,UAAX;AACAF,EAAAA,GAAG,CAACG,WAAJ,CACEb,QAAQ,CAACc,cAAT,kOADF;AAWAd,EAAAA,QAAQ,CAACe,IAAT,CAAcF,WAAd,CAA0BH,GAA1B;AAEA,SAAO,YAAM;AACX;AACA;;AAAC,KAAC;AAAA,aAAMM,MAAM,CAACC,gBAAP,CAAwBP,GAAxB,EAA6BQ,OAAnC;AAAA,KAAD;;AACDlB,IAAAA,QAAQ,CAACe,IAAT,CAAcI,WAAd,CAA0BT,GAA1B;AACD,GAJD;AAKD,CArBD;;AAuBA,IAAMU,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA;;AAAA,gBACW5B,MAAM,CAACC,eAAD,EAAkBE,QAAlB,EAA4B;AAChE0B,IAAAA,WAAW,EAAE1B,QAAQ;AAD2C,GAA5B,CADjB;AAAA,MACP2B,KADO,WACbC,IADa;AAAA,MACAC,MADA,WACAA,MADA;;AAKrB,MAAMC,QAAQ,GAAGnC,WAAW,CAC1B,UAACoC,QAAD,EAAqB;AACnBF,IAAAA,MAAM,CAACE,QAAD,EAAW,KAAX,CAAN;AACD,GAHyB,EAI1B,CAACF,MAAD,CAJ0B,CAA5B;AAOAjC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMoC,MAAM,GAAGlB,gBAAgB,EAA/B;;AAEA,QAAIa,KAAK,KAAK,MAAd,EAAsB;AACpBf,MAAAA,WAAW;AACZ,KAFD,MAEO;AACLT,MAAAA,YAAY;AACb;;AAED6B,IAAAA,MAAM;AACP,GAVQ,EAUN,CAACL,KAAD,CAVM,CAAT;AAYA,SAAO;AACLA,IAAAA,KAAK,EAALA,KADK;AAELG,IAAAA,QAAQ,EAARA,QAFK;AAGLG,IAAAA,WAAW,EAAE;AAAA,aAAMH,QAAQ,CAAC,CAACH,KAAD,IAAUA,KAAK,KAAK,MAApB,GAA6B,OAA7B,GAAuC,MAAxC,CAAd;AAAA;AAHR,GAAP;AAKD,CA7BD;;GAAMF,Q;UAC4B5B,M;;;AA8BlC,eAAe4B,QAAf","sourcesContent":["// https://github.com/pacocoursey/paco/blob/master/lib/theme.ts\nimport { useCallback, useEffect } from \"react\"\nimport useSWR from \"swr\"\n\nexport type Theme = \"dark\" | \"light\"\n\nexport const themeStorageKey = \"theme\"\n\nconst isServer = typeof window === \"undefined\"\nexport const getTheme = (): Theme => {\n  if (isServer) return \"dark\"\n  return (localStorage.getItem(themeStorageKey) as Theme) || \"dark\"\n}\n\nexport const setLightMode = () => {\n  try {\n    localStorage.setItem(themeStorageKey, \"light\")\n    document.documentElement.classList.add(\"light\")\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nexport const setDarkMode = () => {\n  try {\n    localStorage.setItem(themeStorageKey, \"dark\")\n    document.documentElement.classList.remove(\"light\")\n  } catch (err) {\n    console.error(err)\n  }\n}\n\nconst disableAnimation = () => {\n  const css = document.createElement(\"style\")\n  css.type = \"text/css\"\n  css.appendChild(\n    document.createTextNode(\n      `* {\n        -webkit-transition: none !important;\n        -moz-transition: none !important;\n        -o-transition: none !important;\n        -ms-transition: none !important;\n        transition: none !important;\n      }`\n    )\n  )\n  document.head.appendChild(css)\n\n  return () => {\n    // Force restyle\n    ;(() => window.getComputedStyle(css).opacity)()\n    document.head.removeChild(css)\n  }\n}\n\nconst useTheme = () => {\n  const { data: theme, mutate } = useSWR(themeStorageKey, getTheme, {\n    initialData: getTheme(),\n  })\n\n  const setTheme = useCallback(\n    (newTheme: Theme) => {\n      mutate(newTheme, false)\n    },\n    [mutate]\n  )\n\n  useEffect(() => {\n    const enable = disableAnimation()\n\n    if (theme === \"dark\") {\n      setDarkMode()\n    } else {\n      setLightMode()\n    }\n\n    enable()\n  }, [theme])\n\n  return {\n    theme,\n    setTheme,\n    toggleTheme: () => setTheme(!theme || theme === \"dark\" ? \"light\" : \"dark\"),\n  }\n}\n\nexport default useTheme\n"]},"metadata":{},"sourceType":"module"}
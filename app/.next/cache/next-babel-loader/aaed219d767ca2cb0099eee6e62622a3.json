{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/nikivi/src/orgs/learn-anything/learn-anything/app/src/components/link.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query($id: uuid!) {\\n    links_by_pk(id: $id) {\\n      name\\n      comment\\n      url\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from \"graphql-tag\";\nimport React, { useState } from \"react\";\nimport { useMutation, useQuery } from \"urql\";\nimport { deleteLinkMutation } from \"../lib/mutations\";\nimport { Bookmark, BookmarkFill } from \"./icons\";\nvar linkQuery = gql(_templateObject());\n\nvar Link = function Link(_ref) {\n  _s();\n\n  var id = _ref.id;\n\n  var _useQuery = useQuery({\n    query: linkQuery,\n    variables: {\n      id: id\n    }\n  }),\n      _useQuery2 = _slicedToArray(_useQuery, 1),\n      result = _useQuery2[0];\n\n  var link = result.data.links_by_pk; // TODO: Grab state from user query\n\n  var _useState = useState(false),\n      saved = _useState[0],\n      setSaved = _useState[1];\n\n  var _useMutation = useMutation(deleteLinkMutation),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      removeLinkResult = _useMutation2[0],\n      removeLink = _useMutation2[1];\n\n  return __jsx(\"div\", {\n    style: {\n      marginBottom: \"var(--gap)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    href: link.url,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, link.name), __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      flex: 1,\n      justifyContent: \"flex-end\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    onClick: function onClick(e) {\n      return removeLink({\n        id: id\n      }).then(function (result) {\n        return console.log(result.error);\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"Delete\"))), __jsx(\"blockquote\", {\n    style: {\n      marginTop: \"var(--small-gap)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, link.comment), __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      marginTop: \"var(--small-gap)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    onClick: function onClick(e) {\n      return setSaved(!saved);\n    },\n    style: {\n      cursor: \"pointer\",\n      color: \"var(--red)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, saved ? __jsx(BookmarkFill, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 20\n    }\n  }) : __jsx(Bookmark, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 39\n    }\n  })), __jsx(\"span\", {\n    style: {\n      fontStyle: \"italic\",\n      color: \"var(--gray)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, link.url.split(\"/\")[2])));\n};\n\n_s(Link, \"2x7TU/tRb0UTQBL+1OfqGVJI5ik=\", false, function () {\n  return [useQuery, useMutation];\n});\n\n_c = Link;\nexport default Link;\n\nvar _c;\n\n$RefreshReg$(_c, \"Link\");","map":{"version":3,"sources":["/Users/nikivi/src/orgs/learn-anything/learn-anything/app/src/components/link.tsx"],"names":["gql","React","useState","useMutation","useQuery","deleteLinkMutation","Bookmark","BookmarkFill","linkQuery","Link","id","query","variables","result","link","data","links_by_pk","saved","setSaved","removeLinkResult","removeLink","marginBottom","display","url","name","flex","justifyContent","e","then","console","log","error","marginTop","comment","cursor","color","fontStyle","split"],"mappings":"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","sourcesContent":["import gql from \"graphql-tag\"\nimport React, { useState } from \"react\"\nimport { useMutation, useQuery } from \"urql\"\nimport { deleteLinkMutation } from \"../lib/mutations\"\nimport { Bookmark, BookmarkFill } from \"./icons\"\n\nconst linkQuery = gql`\n  query($id: uuid!) {\n    links_by_pk(id: $id) {\n      name\n      comment\n      url\n    }\n  }\n`\n\nconst Link = ({ id }) => {\n  const [result] = useQuery({\n    query: linkQuery,\n    variables: { id },\n  })\n  const link = result.data.links_by_pk\n\n  // TODO: Grab state from user query\n  const [saved, setSaved] = useState(false)\n\n  const [removeLinkResult, removeLink] = useMutation(deleteLinkMutation)\n\n  return (\n    <div style={{ marginBottom: \"var(--gap)\" }}>\n      <div style={{ display: \"flex\" }}>\n        <a href={link.url}>{link.name}</a>\n        <div\n          style={{\n            display: \"flex\",\n            flex: 1,\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <button\n            onClick={(e) =>\n              removeLink({ id }).then((result) => console.log(result.error))\n            }\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n      <blockquote style={{ marginTop: \"var(--small-gap)\" }}>\n        {link.comment}\n      </blockquote>\n      <div style={{ display: \"flex\", marginTop: \"var(--small-gap)\" }}>\n        <span\n          onClick={(e) => setSaved(!saved)}\n          style={{ cursor: \"pointer\", color: \"var(--red)\" }}\n        >\n          {saved ? <BookmarkFill /> : <Bookmark />}\n        </span>\n        {/* {` / `} */}\n        <span style={{ fontStyle: \"italic\", color: \"var(--gray)\" }}>\n          {link.url.split(\"/\")[2]}\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport default Link\n"]},"metadata":{},"sourceType":"module"}
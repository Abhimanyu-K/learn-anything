{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/nikivi/src/orgs/learn-anything/learn-anything/app/src/components/header.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useRef } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { useMutation } from \"urql\";\nimport { createLinkMutation } from \"../lib/mutations\";\nimport { Plus, Bookmark, User } from \"../components/icons\";\n\nvar Header = function Header() {\n  _s();\n\n  var router = useRouter();\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var titleInputEl = useRef(null);\n  var urlInputEl = useRef(null);\n\n  var _useState2 = useState({\n    title: null,\n    url: null\n  }),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var updateTitle = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var input;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              input = titleInputEl.current.value;\n\n              if (input == \"\") {\n                setState(_objectSpread(_objectSpread({}, state), {}, {\n                  title: null\n                }));\n              } else {\n                setState(_objectSpread(_objectSpread({}, state), {}, {\n                  title: input\n                }));\n              }\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function updateTitle() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var updateUrl = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var input;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              input = urlInputEl.current.value;\n\n              if (input == \"\") {\n                setState(_objectSpread(_objectSpread({}, state), {}, {\n                  url: null\n                }));\n              } else {\n                setState(_objectSpread(_objectSpread({}, state), {}, {\n                  url: input\n                }));\n              }\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function updateUrl() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var _useMutation = useMutation(createLinkMutation),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      addLinkResult = _useMutation2[0],\n      addLink = _useMutation2[1];\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, __jsx(\"h1\", {\n    onClick: function onClick(e) {\n      return router.push(\"/\");\n    },\n    style: {\n      cursor: \"pointer\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Learn Anything\"), __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      flex: 1,\n      justifyContent: \"flex-end\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    onClick: function onClick(e) {\n      return setOpen(!open);\n    },\n    style: {\n      cursor: \"pointer\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, __jsx(Plus, {\n    size: 28,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  })), __jsx(\"span\", {\n    onClick: function onClick(e) {\n      return router.push(\"/bookmarks\");\n    },\n    style: {\n      cursor: \"pointer\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, __jsx(Bookmark, {\n    size: 28,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  })), __jsx(User, {\n    size: 28,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      display: \"\".concat(open ? \"block\" : \"none\"),\n      position: \"fixed\",\n      zIndex: 1,\n      paddingTop: \"100px\",\n      left: 0,\n      top: 0,\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"auto\",\n      backgroundColor: \"rgba(0,0,0,0.4)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      backgroundColor: \"var(--overlay)\",\n      margin: \"auto\",\n      padding: \"20px\",\n      // border: \"1px solid #888\",\n      width: \"50%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"New link\"), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Name\"), __jsx(\"input\", {\n    id: \"name\",\n    ref: titleInputEl,\n    onChange: updateTitle,\n    type: \"text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"url\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"URL\"), __jsx(\"input\", {\n    id: \"url\",\n    ref: urlInputEl,\n    onChange: updateUrl,\n    type: \"text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  })), __jsx(\"button\", {\n    onClick: function onClick(e) {\n      addLink({\n        object: {\n          name: state.title,\n          url: state.url\n        }\n      });\n      setOpen(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, \"Create\"))));\n};\n\n_s(Header, \"IChpgSkyiVcNT7PXKKCXlNkTPsY=\", false, function () {\n  return [useRouter, useMutation];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/nikivi/src/orgs/learn-anything/learn-anything/app/src/components/header.tsx"],"names":["useState","useRef","useRouter","useMutation","createLinkMutation","Plus","Bookmark","User","Header","router","open","setOpen","titleInputEl","urlInputEl","title","url","state","setState","updateTitle","input","current","value","updateUrl","addLinkResult","addLink","display","alignItems","e","push","cursor","flex","justifyContent","position","zIndex","paddingTop","left","top","width","height","overflow","backgroundColor","margin","padding","object","name"],"mappings":"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","sourcesContent":["import { useState, useRef } from \"react\"\nimport { useRouter } from \"next/router\"\nimport { useMutation } from \"urql\"\nimport { createLinkMutation } from \"../lib/mutations\"\nimport { Plus, Bookmark, User } from \"../components/icons\"\n\nconst Header = () => {\n  const router = useRouter()\n  const [open, setOpen] = useState(false)\n\n  const titleInputEl = useRef(null)\n  const urlInputEl = useRef(null)\n  const [state, setState] = useState({\n    title: null,\n    url: null,\n  })\n  const updateTitle = async () => {\n    const input = titleInputEl.current.value\n    if (input == \"\") {\n      setState({\n        ...state,\n        title: null,\n      })\n    } else {\n      setState({\n        ...state,\n        title: input,\n      })\n    }\n  }\n  const updateUrl = async () => {\n    const input = urlInputEl.current.value\n    if (input == \"\") {\n      setState({\n        ...state,\n        url: null,\n      })\n    } else {\n      setState({\n        ...state,\n        url: input,\n      })\n    }\n  }\n\n  const [addLinkResult, addLink] = useMutation(createLinkMutation)\n\n  return (\n    <>\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <h1 onClick={(e) => router.push(\"/\")} style={{ cursor: \"pointer\" }}>\n          Learn Anything\n        </h1>\n        <div\n          style={{\n            display: \"flex\",\n            flex: 1,\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <span onClick={(e) => setOpen(!open)} style={{ cursor: \"pointer\" }}>\n            <Plus size={28} />\n          </span>\n          {/* Only show these icons when authenticated */}\n          <span\n            onClick={(e) => router.push(\"/bookmarks\")}\n            style={{ cursor: \"pointer\" }}\n          >\n            <Bookmark size={28} />\n          </span>\n          {/* Placeholder, show user avatar once authenticated */}\n          <User size={28} />\n          {/* TODO: Show underneath user avatar */}\n          {/* <Link size={28} /> */}\n        </div>\n      </div>\n      {/* New Link Modal */}\n      <div\n        style={{\n          display: `${open ? \"block\" : \"none\"}`,\n          position: \"fixed\",\n          zIndex: 1,\n          paddingTop: \"100px\",\n          left: 0,\n          top: 0,\n          width: \"100%\",\n          height: \"100%\",\n          overflow: \"auto\",\n          backgroundColor: \"rgba(0,0,0,0.4)\",\n        }}\n      >\n        <div\n          style={{\n            backgroundColor: \"var(--overlay)\",\n            margin: \"auto\",\n            padding: \"20px\",\n            // border: \"1px solid #888\",\n            width: \"50%\",\n          }}\n        >\n          <h2>New link</h2>\n          <div>\n            <label htmlFor=\"name\">Name</label>\n            <input\n              id=\"name\"\n              ref={titleInputEl}\n              onChange={updateTitle}\n              type=\"text\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"url\">URL</label>\n            <input id=\"url\" ref={urlInputEl} onChange={updateUrl} type=\"text\" />\n          </div>\n          <button\n            onClick={(e) => {\n              addLink({ object: { name: state.title, url: state.url } })\n              setOpen(false)\n            }}\n          >\n            Create\n          </button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}